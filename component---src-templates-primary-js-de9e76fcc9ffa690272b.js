(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"469l":function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),i=a("q1tI"),o=a("iuhU"),c=a("H2TA"),l=a("5AJ6"),s=Object(l.a)(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var m=i.forwardRef((function(e,t){var a=e.alt,c=e.children,l=e.classes,m=e.className,p=e.component,d=void 0===p?"div":p,u=e.imgProps,f=e.sizes,g=e.src,b=e.srcSet,y=e.variant,x=void 0===y?"circle":y,h=Object(r.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),v=null,E=function(e){var t=e.src,a=e.srcSet,n=i.useState(!1),r=n[0],o=n[1];return i.useEffect((function(){if(t||a){o(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=a,n.onload=function(){e&&o("loaded")},n.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,a]),r}({src:g,srcSet:b}),j=g||b,_=j&&"error"!==E;return v=_?i.createElement("img",Object(n.a)({alt:a,src:g,srcSet:b,sizes:f,className:l.img},u)):null!=c?c:j&&a?a[0]:i.createElement(s,{className:l.fallback}),i.createElement(d,Object(n.a)({className:Object(o.a)(l.root,l.system,l[x],m,!_&&l.colorDefault),ref:t},h),v)}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(m)},"6JlU":function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return b}));a("pJf4"),a("zTTH");var n=a("q1tI"),r=a.n(n),i=a("vOnD"),o=a("469l"),c=a("ofer"),l=a("9Koi"),s=a("efpO"),m=a("Wbzz"),p=a("AiFK"),d={demo:p.a.palette.warning.main,beijing:p.a.palette.info.main,other:p.a.palette.success.main},u=Object(i.a)(o.a).withConfig({displayName:"People__CampAvatar",componentId:"sc-14rjn9w-0"})(["width:","px;height:","px;border:","px "," solid;"],(function(e){return e.xsdimension||48}),(function(e){return e.xsdimension||48}),(function(e){return e.border||3}),(function(e){return d[e.camp]})),f=i.a.div.withConfig({displayName:"People__PeopleWrapper",componentId:"sc-14rjn9w-1"})([".avatar-group{display:flex;flex-direction:column;align-items:center;justify-content:space-end;}","{.avatar{width:64px;height:64px;}}.avatar.demo{border:3px "," solid;}.avatar.beijing{border:3px "," solid;}.avatar.other{border:3px "," solid;}.center{font-size:12px;text-align:center;display:flex;flex-direction:column;align-items:center;}"],p.a.breakpoints.up("md"),p.a.palette.warning.main,p.a.palette.info.main,p.a.palette.success.main),g=function(e){var t=e.info,a=Object(l.a)().i18n,n=Object(s.b)(a,t,"name");return r.a.createElement(f,{className:"avatar-group clickable",onClick:function(){Object(m.navigate)(Object(s.a)(a,"/profile/"+t.uuid+"/"+n))},onKeyDown:function(){}},r.a.createElement("div",{className:"center"},r.a.createElement(u,{alt:n,src:t.img_url,camp:t.camp.toLowerCase()}),r.a.createElement("span",null,n+(t.tags&&-1!==t.tags.findIndex((function(e){return"不參加民主派初選"===e.name_zh}))?"*":""))))},b=function(e){var t=e.onClick,a=e.name,n=e.info,o=e.subText,l=i.a.div.withConfig({displayName:"People__Wrapper",componentId:"sc-14rjn9w-2"})(["display:flex;.main{margin-left:","px;display:flex;flex-direction:column;justify-content:center;}.subText{line-height:0.8rem;}"],p.a.spacing(1));return r.a.createElement(l,{item:!0,onClick:t},r.a.createElement(u,{alt:a,src:n.img_url,camp:n.camp.toLowerCase(),xsdimension:56,border:5}),r.a.createElement("div",{className:"main"},r.a.createElement(c.a,{variant:"h5"},a),r.a.createElement(c.a,{className:"subText",variant:"caption",color:"textSecondary"},o)))}},"V+3/":function(e,t,a){"use strict";a.r(t);a("HQhv"),a("zGcK"),a("YBKJ");var n=a("q1tI"),r=a.n(n),i=a("tRbT"),o=a("ofer"),c=a("vOnD"),l=a("AiFK"),s=a("9Koi"),m=a("rsHp"),p=a("h2rB"),d=a("7Qib"),u=a("efpO"),f=a("Wbzz"),g=a("6JlU"),b=a("esk+"),y=c.a.div.withConfig({displayName:"ElectionForum__ListWrapper",componentId:"hyfgj7-0"})(["margin:","px 0;"],l.a.spacing(2)),x=Object(c.a)(i.a).withConfig({displayName:"ElectionForum__List",componentId:"hyfgj7-1"})(["margin:","px 0;box-shadow:0 1px 6px 0 ",";line-height:0;.details{padding-left:","px;padding-right:","px;display:flex;flex-direction:column;justify-content:center;}img{width:100%;}"],l.a.spacing(2),l.a.palette.divider,l.a.spacing(1.5),l.a.spacing(1.5)),h=function(e){var t=e.assets;return r.a.createElement(y,null,t.map((function(e){return r.a.createElement(x,{container:!0,className:"clickable",key:e.id,onClick:function(){window.open("https://www.youtube.com/watch?v="+e.asset_id,"_blank")}},r.a.createElement(i.a,{item:!0,xs:4},r.a.createElement("img",{src:"https://i.ytimg.com/vi/"+e.asset_id+"/hqdefault.jpg",alt:e.title})),r.a.createElement(i.a,{item:!0,xs:8,className:"details"},r.a.createElement(o.a,{variant:"h6"},e.title)))})))},v=a("vrFN"),E=c.a.div.withConfig({displayName:"Primary__Nav",componentId:"jl2r8q-0"})(["padding-bottom:","px;overflow-x:auto;white-space:nowrap;.nav-link{color:",";text-decoration:none;font-size:14px;margin-bottom:","px;margin-right:","px;padding:3px 8px;}.active{font-weight:700;color:",";background:",";border-radius:5px;}"],l.a.spacing(1),l.a.palette.primary.main,l.a.spacing(1),l.a.spacing(1),l.a.palette.background.default,l.a.palette.secondary.main),j=Object(c.a)(i.a).withConfig({displayName:"Primary__Header",componentId:"jl2r8q-1"})(["margin-bottom:","px;.title-box{margin-right:","px;}}.title{font-size:24px;font-weight:700;}"],l.a.spacing(2),l.a.spacing(3)),_=c.a.div.withConfig({displayName:"Primary__CandidatesWrapper",componentId:"jl2r8q-2"})(["margin-top:","px;display:grid;grid-row-gap:","px;grid-column-gap:","px;grid-template-columns:repeat(2,1fr);","{grid-template-columns:repeat(4,1fr);}","{grid-template-columns:repeat(6,1fr);}.candi-box{display:flex;align-items:center;}"],l.a.spacing(2),l.a.spacing(1),l.a.spacing(1.5),l.a.breakpoints.up("sm"),l.a.breakpoints.up("md"));t.default=function(e){var t=e.pageContext,a=t.uri,n=t.allConstituencies,c=t.constituency,l=t.candidates,y=t.assets,x=Object(s.a)(),w=x.t,O=x.i18n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{uri:a,titleOveride:w("primary.title")+" | "+Object(u.b)(O,c,"name"),meta:[{property:"og:title",content:w("primary.title")+" | "+Object(u.b)(O,c,"name")},{property:"og:description",content:Object(u.b)(O,c,"primary_description")}]}),r.a.createElement(E,null,n.map((function(e){return r.a.createElement(f.Link,{key:e.node.key,className:"nav-link "+(e.node.key===c.key?"active":""),to:Object(u.a)(O,"/primary/"+e.node.key)},Object(u.b)(O,e.node,"alias"))}))),r.a.createElement(j,{container:!0},r.a.createElement(i.a,{item:!0},r.a.createElement(i.a,{container:!0,direction:"column",justify:"center",className:"title-box"},r.a.createElement("div",{className:"title"},Object(u.b)(O,c,"name")),r.a.createElement(o.a,{variant:"body2",color:"textSecondary"},Object(u.b)(O,c,"primary_rule")),r.a.createElement(o.a,{variant:"body2",color:"textSecondary"},w("list_count",{list_count:l.length})))),r.a.createElement(i.a,{item:!0},m.a[c.key]&&r.a.createElement(p.a,{title:{vote:w("dc2019_demo_beijing_ratio"),seat:Number(c.target)>0?w("demo_target",{target:c.target}):w("demo_target_not_decide")},votes:m.a[c.key].votes,seats:Object(d.b)(c)}))),Object(u.b)(O,c,"primary_description")&&r.a.createElement(o.a,{className:"block",variant:"body2",dangerouslySetInnerHTML:{__html:Object(u.b)(O,c,"primary_description")}}),r.a.createElement(_,null,l.sort((function(e,t){return e.node.primary_list_no&&t.node.primary_list_no?Number(e.node.primary_list_no)>Number(t.node.primary_list_no)?1:-1:e.node.name_en>t.node.name_en?1:-1})).map((function(e){return r.a.createElement(i.a,{item:!0,key:Object(u.b)(O,e.node,"name"),className:"clickable"},r.a.createElement(g.a,{item:!0,key:e.node.name_zh,info:e.node,name:Object(u.b)(O,e.node,"name"),subText:Object(u.b)(O,e.node,"title")&&Object(u.b)(O,e.node,"title").split(/[，、,]+/).shift(),onClick:function(){Object(f.navigate)(Object(u.a)(O,"/profile/"+e.node.uuid+"/"+e.node.name_zh))}}))}))),y.length>0&&r.a.createElement(b.a,{tabs:[{name:"election_forum",title:w("election_forum"),content:r.a.createElement(h,{assets:y})}],onTabChange:function(){}}))}},h2rB:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("e89E"),o=a("VphZ"),c=a("AiFK"),l=a("20nU"),s=24,m=3,p=5,d=12;t.a=function(e){var t=e.votes,a=e.seats,u=e.title,f=Object(n.useRef)(),g=Object(n.useRef)(),b=Object(i.a)(g);return Object(n.useEffect)((function(){var e=Object(o.b)(f.current);if(b){var n=s,r=p,i=m,g=d,y=t.DEMO+t.BEIJING,x=Object(o.a)().domain([0,y]).range([0,100]),h=[{value:t.DEMO,cumulative:0,percentage:x(t.DEMO),color:l.a.FC_EXPECTED_WIN_DEMO},{value:t.BEIJING,cumulative:t.DEMO,percentage:x(t.BEIJING),color:l.a.FC_EXPECTED_WIN_BEIJING}],v=Object(o.a)().domain([0,y]).range([0,n*a.length]);e.selectAll(".vote-label").remove(),e.append("text").attr("class","vote-label").attr("text-anchor","start").attr("x",0).attr("y",0).attr("transform","translate(0,"+g+")").style("fill",c.a.palette.text.primary).style("font-size",g).style("font-weight",400).text(u.vote),e.selectAll(".vote-stacked").data(h).join("rect").attr("class","vote-stacked").attr("x",(function(e){return v(e.cumulative)})).attr("y",g+i).attr("height",n).attr("width",(function(e){return v(e.value)})).style("fill",(function(e){return e.color})).style("stroke",c.a.palette.background.paper),e.selectAll(".seat-label").remove(),e.append("text").attr("class","seat-label").attr("text-anchor","start").attr("x",0).attr("y",g+i+n+r/2).attr("transform","translate(0,"+g+")").style("fill",c.a.palette.text.primary).style("font-size",g).style("font-weight",400).text(u.seat),e.selectAll(".seat-stacked").remove(),e.selectAll("seat").data(a).join("rect").attr("class","seat-stacked").attr("x",(function(e,t){return t*n})).attr("y",g+i+n+r+g).attr("height",n).attr("width",n).style("fill",(function(e){return e.color})).style("stroke",c.a.palette.background.paper),e.selectAll(".text-percentage-label").data(h).join("text").attr("class","text-percentage-label").attr("text-anchor","middle").attr("x",(function(e){return v(e.cumulative)+v(e.value)/2})).attr("y",g+i+n/2+5).style("fill",c.a.palette.text.primary).style("font-size",16).style("font-weight",700).text((function(e){return e.percentage.toFixed(0)+"%"}))}}),[t,a,b]),r.a.createElement("div",{ref:g},r.a.createElement("svg",{ref:f,style:{overflow:"visible",display:"block",width:s*a.length+"px",height:"84px"}}))}}}]);
//# sourceMappingURL=component---src-templates-primary-js-de9e76fcc9ffa690272b.js.map