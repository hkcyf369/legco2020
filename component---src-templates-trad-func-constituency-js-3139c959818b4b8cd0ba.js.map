{"version":3,"sources":["webpack:///./src/templates/TradFuncConstituency.js","webpack:///./src/components/People.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.find-index.js"],"names":["TradTemplateWrapper","styled","div","theme","spacing","TradHeader","Grid","CandidatesWrapper","TradFuncConstituencyTemplate","pageContext","uri","constituency","councillors","candidates","tags","useTranslation","t","i18n","titleOveride","withLanguage","meta","property","content","container","item","direction","justify","className","variant","color","seats","electors_total_2020","Number","electors_total_2016","last_election_vote_beijing_minus_demo","map","tag","label","i18nKey","c","key","node","info","filter","is_2020_candidate","campColorMapping","demo","palette","warning","main","beijing","other","success","CampAvatar","Avatar","props","xsdimension","border","camp","PeopleWrapper","breakpoints","up","PeopleCircle","name","onClick","navigate","getLocalizedPath","uuid","onKeyDown","alt","src","img_url","toLowerCase","findIndex","name_zh","PeopleBox","subText","Wrapper","$export","$find","KEY","forced","Array","P","F","callbackfn","this","arguments","length","undefined"],"mappings":"oPAUMA,EAAsBC,IAAOC,IAAV,4FAAGD,CAAH,mFAEXE,IAAMC,QAAQ,GAQTD,IAAMC,QAAQ,IAI3BC,EAAaJ,YAAOK,KAAV,mFAAGL,CAAH,4EAGIE,IAAMC,QAAQ,IAS5BG,EAAoBN,IAAOC,IAAV,0FAAGD,CAAH,qEAETE,IAAMC,QAAQ,IAqFbI,UAjFsB,SAAC,GAE/B,IAAD,IADJC,YAAeC,EACX,EADWA,IAAKC,EAChB,EADgBA,aAAcC,EAC9B,EAD8BA,YAAaC,EAC3C,EAD2CA,WAAYC,EACvD,EADuDA,KACvD,EACgBC,cAAZC,EADJ,EACIA,EAAGC,EADP,EACOA,KAEX,OACE,oCACE,kBAAC,IAAD,CACIP,IAAKA,EACLQ,aAAcC,YAAaF,EAAMN,EAAc,QAE/CS,KAAM,CACJ,CACEC,SAAS,WACTC,QAASH,YAAaF,EAAMN,EAAc,SAE5C,CACEU,SAAS,iBACTC,QAASH,YAAaF,EAAMN,EAAc,mBAIlD,kBAACX,EAAD,KACE,kBAACK,EAAD,CAAYkB,WAAS,GACnB,kBAAC,IAAD,CAAMC,MAAI,GACR,kBAAC,IAAD,CACED,WAAS,EACTE,UAAU,SACVC,QAAQ,SACRC,UAAU,aAEV,kBAAC,IAAD,CAAYC,QAAQ,QAAQC,MAAM,iBAC/Bb,EAAE,cAAe,CAAEc,MAAOnB,EAAamB,SAE1C,yBAAKH,UAAU,SACZR,YAAaF,EAAMN,EAAc,WAIxC,kBAAC,IAAD,CAAMa,MAAI,GACR,kBAAC,IAAD,CAAYI,QAAQ,SACdZ,EAAE,oBADR,IAEIL,EAAaoB,oBAFjB,SAIIC,OAAOrB,EAAaoB,qBACpBC,OAAOrB,EAAasB,sBALxB,KAQA,kBAAC,IAAD,CAAYL,QAAQ,SACjBZ,EAAE,aAAc,IAChBL,EAAauB,yCAIpB,kBAAC,IAAD,CAAMP,UAAU,QAAQJ,WAAS,GAC9BT,EAAKqB,KAAI,SAAAC,GAAG,OACX,kBAAC,IAAD,CAAMC,MAAOrB,EAAE,OAAOoB,EAAIE,SAAYV,QAAQ,iBAGlD,kBAAC,IAAD,CAAYD,UAAU,QAAQC,QAAQ,SACnCT,YAAaF,EAAMN,EAAc,gBAEpC,kBAAC,IAAD,CAAYiB,QAAQ,MAAMZ,EAAE,uBAC5B,kBAAC,IAAD,CAAMO,WAAS,GACZX,EAAYuB,KAAI,SAAAI,GAAC,OAChB,kBAAC,IAAD,CAAcC,IAAKD,EAAEE,KAAMC,KAAMH,EAAEE,WAGvC,kBAAC,IAAD,CAAYb,QAAQ,MAAMZ,EAAE,aAC5B,kBAACT,EAAD,KACGM,EACE8B,QAAO,SAAAJ,GAAC,MAAiC,SAA7BA,EAAEE,KAAKG,qBACnBT,KAAI,SAAAI,GAAC,OACJ,kBAAC,IAAD,CAAcC,IAAKD,EAAEE,KAAMC,KAAMH,EAAEE,e,yOC1G3CI,EAAmB,CACvBC,KAAM3C,IAAM4C,QAAQC,QAAQC,KAC5BC,QAAS/C,IAAM4C,QAAQL,KAAKO,KAC5BE,MAAOhD,IAAM4C,QAAQK,QAAQH,MAGzBI,EAAapD,YAAOqD,KAAV,yEAAGrD,CAAH,sDACL,SAAAsD,GAAK,OAAIA,EAAMC,aAAe,MAC7B,SAAAD,GAAK,OAAIA,EAAMC,aAAe,MAC9B,SAAAD,GAAK,OAAIA,EAAME,QAAU,KAC/B,SAAAF,GAAK,OAAIV,EAAiBU,EAAMG,SAGhCC,EAAgB1D,IAAOC,IAAV,4EAAGD,CAAH,sVAQfE,IAAMyD,YAAYC,GAAG,MAQP1D,IAAM4C,QAAQC,QAAQC,KAItB9C,IAAM4C,QAAQL,KAAKO,KAInB9C,IAAM4C,QAAQK,QAAQH,MAY3Ba,EAAe,SAAC,GAAc,IAAZpB,EAAW,EAAXA,KACrBzB,EAASF,cAATE,KACF8C,EAAO5C,YAAaF,EAAMyB,EAAM,QACtC,OACE,kBAACiB,EAAD,CACEhC,UAAU,yBACVqC,QAAS,WACPC,mBAASC,YAAiBjD,EAAD,YAAmByB,EAAKyB,KAAxB,IAAgCJ,KAE3DK,UAAW,cAEX,yBAAKzC,UAAU,UACb,kBAAC0B,EAAD,CACEgB,IAAKN,EACLO,IAAK5B,EAAK6B,QACVb,KAAMhB,EAAKgB,KAAKc,gBAElB,8BACMT,GACFrB,EAAK5B,OAEF,IADH4B,EAAK5B,KAAK2D,WAAU,SAAArC,GAAG,MAAoB,aAAhBA,EAAIsC,WAE3B,IACA,QAQHC,EAAY,SAAC,GAAsC,IAApCX,EAAmC,EAAnCA,QAASD,EAA0B,EAA1BA,KAAMrB,EAAoB,EAApBA,KAAMkC,EAAc,EAAdA,QACzCC,EAAU5E,IAAOC,IAAV,sEAAGD,CAAH,kIAIME,IAAMC,QAAQ,IAUjC,OACE,kBAACyE,EAAD,CAASrD,MAAI,EAACwC,QAASA,GACrB,kBAACX,EAAD,CACEgB,IAAKN,EACLO,IAAK5B,EAAK6B,QACVb,KAAMhB,EAAKgB,KAAKc,cAChBhB,YAAa,GACbC,OAAQ,IAEV,yBAAK9B,UAAU,QACb,kBAAC,IAAD,CAAYC,QAAQ,MAAMmC,GAC1B,kBAAC,IAAD,CAAYpC,UAAU,UAAUC,QAAQ,UAAUC,MAAM,iBACrD+C,O,kCClHX,IAAIE,EAAU,EAAQ,QAClBC,EAAQ,EAAQ,OAAR,CAA4B,GACpCC,EAAM,YACNC,GAAS,EAETD,IAAO,IAAIE,MAAM,GAAGF,IAAK,WAAcC,GAAS,KACpDH,EAAQA,EAAQK,EAAIL,EAAQM,EAAIH,EAAQ,QAAS,CAC/CR,UAAW,SAAmBY,GAC5B,OAAON,EAAMO,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAGzE,EAAQ,OAAR,CAAiCT","file":"component---src-templates-trad-func-constituency-js-3139c959818b4b8cd0ba.js","sourcesContent":["import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport Chip from '@/components/Chip';\nimport styled from 'styled-components';\nimport theme from '@/themes';\nimport { useTranslation } from 'react-i18next';\nimport { withLanguage } from '@/utils/i18n';\nimport { PeopleCircle } from '@/components/People';\nimport SEO from '@/components/seo';\n\nconst TradTemplateWrapper = styled.div`\n  .block {\n    margin: ${theme.spacing(1)}px 0;\n  }\n\n  .social {\n    font-size: 24px;\n  }\n\n  .social svg {\n    margin-left: ${theme.spacing(1)}px;\n  }\n`;\n\nconst TradHeader = styled(Grid)`\n\n  .title-box {\n    margin-right: ${theme.spacing(3)}px;\n  }\n  }\n  .title {\n    font-size: 24px;\n    font-weight: 700;\n  }\n`;\n\nconst CandidatesWrapper = styled.div`\n  display: grid;\n  grid-gap: ${theme.spacing(1)}px;\n  grid-template-columns: repeat(4, 1fr);\n`;\n\nconst TradFuncConstituencyTemplate = ({\n  pageContext: { uri, constituency, councillors, candidates, tags },\n}) => {\n  const { t, i18n } = useTranslation();\n\n  return (\n    <>\n      <SEO\n          uri={uri}\n          titleOveride={withLanguage(i18n, constituency, 'name')}\n          // TODO: duplicated entries, filter out in SEO later?\n          meta={[\n            {\n              property: `og:title`,\n              content: withLanguage(i18n, constituency, 'name'),\n            },\n            {\n              property: `og:description`,\n              content: withLanguage(i18n, constituency, 'description'),\n            },\n          ]}\n        />\n      <TradTemplateWrapper>\n        <TradHeader container>\n          <Grid item>\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"center\"\n              className=\"title-box\"\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('no_of_seats', { seats: constituency.seats })}\n              </Typography>\n              <div className=\"title\">\n                {withLanguage(i18n, constituency, 'name')}\n              </div>\n            </Grid>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"body1\">\n              {`${t('number_of_voters')} ${\n                constituency.electors_total_2020\n              }（較16年${\n                Number(constituency.electors_total_2020) -\n                Number(constituency.electors_total_2016)\n              }）`}\n            </Typography>\n            <Typography variant=\"body1\">\n              {t('vote_diff')}{' '}\n              {constituency.last_election_vote_beijing_minus_demo}\n            </Typography>\n          </Grid>\n        </TradHeader>\n        <Grid className=\"block\" container>\n          {tags.map(tag => (\n            <Chip label={t(`tag.${tag.i18nKey}`)} variant=\"outlined\" />\n          ))}\n        </Grid>\n        <Typography className=\"block\" variant=\"body2\">\n          {withLanguage(i18n, constituency, 'description')}\n        </Typography>\n        <Typography variant=\"h5\">{t('current_legislator')}</Typography>\n        <Grid container>\n          {councillors.map(c => (\n            <PeopleCircle key={c.node} info={c.node} />\n          ))}\n        </Grid>\n        <Typography variant=\"h5\">{t('intended')}</Typography>\n        <CandidatesWrapper>\n          {candidates\n            .filter(c => c.node.is_2020_candidate === 'TRUE')\n            .map(c => (\n              <PeopleCircle key={c.node} info={c.node} />\n            ))}\n        </CandidatesWrapper>\n      </TradTemplateWrapper>\n    </>\n  );\n};\n\nexport default TradFuncConstituencyTemplate;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\nimport { withLanguage, getLocalizedPath } from '@/utils/i18n';\nimport { navigate } from 'gatsby';\nimport theme from '@/themes';\n\nconst campColorMapping = {\n  demo: theme.palette.warning.main,\n  beijing: theme.palette.info.main,\n  other: theme.palette.success.main,\n};\n\nconst CampAvatar = styled(Avatar)`\n  width: ${props => props.xsdimension || 48}px;\n  height: ${props => props.xsdimension || 48}px;\n  border: ${props => props.border || 3}px\n    ${props => campColorMapping[props.camp]} solid;\n`;\n\nconst PeopleWrapper = styled.div`\n  .avatar-group {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-end;\n  }\n\n  ${theme.breakpoints.up('md')} {\n    .avatar {\n      width: 64px;\n      height: 64px;\n    }\n  }\n\n  .avatar.demo {\n    border: 3px ${theme.palette.warning.main} solid;\n  }\n\n  .avatar.beijing {\n    border: 3px ${theme.palette.info.main} solid;\n  }\n\n  .avatar.other {\n    border: 3px ${theme.palette.success.main} solid;\n  }\n\n  .center {\n    font-size: 12px;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nexport const PeopleCircle = ({ info }) => {\n  const { i18n } = useTranslation();\n  const name = withLanguage(i18n, info, 'name');\n  return (\n    <PeopleWrapper\n      className=\"avatar-group clickable\"\n      onClick={() => {\n        navigate(getLocalizedPath(i18n, `/profile/${info.uuid}/${name}`));\n      }}\n      onKeyDown={() => {}}\n    >\n      <div className=\"center\">\n        <CampAvatar\n          alt={name}\n          src={info.img_url}\n          camp={info.camp.toLowerCase()}\n        />\n        <span>\n          {`${name}${\n            info.tags &&\n            info.tags.findIndex(tag => tag.name_zh === '不參加民主派初選') !==\n              -1\n              ? '*'\n              : ''\n          }`}\n        </span>\n      </div>\n    </PeopleWrapper>\n  );\n};\n\nexport const PeopleBox = ({ onClick, name, info, subText }) => {\n  const Wrapper = styled.div`\n    display: flex;\n\n    .main {\n      margin-left: ${theme.spacing(1)}px;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    .subText {\n      line-height: 0.8rem;\n    }\n  `;\n  return (\n    <Wrapper item onClick={onClick}>\n      <CampAvatar\n        alt={name}\n        src={info.img_url}\n        camp={info.camp.toLowerCase()}\n        xsdimension={56}\n        border={5}\n      />\n      <div className=\"main\">\n        <Typography variant=\"h5\">{name}</Typography>\n        <Typography className=\"subText\" variant=\"caption\" color=\"textSecondary\">\n          {subText}\n        </Typography>\n      </div>\n    </Wrapper>\n  );\n};\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n"],"sourceRoot":""}