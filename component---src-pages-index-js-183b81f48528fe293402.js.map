{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/ExpandMore.js","webpack:///./src/components/charts/SingleStackedBar.js","webpack:///./src/components/charts/SeatRow.js","webpack:///./node_modules/@material-ui/core/esm/Collapse/Collapse.js","webpack:///./src/pages/index.js","webpack:///./node_modules/@material-ui/icons/ExpandLess.js"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","_react","_default","createElement","d","SingleStackedBar","data","summary","title","theme","useTheme","svgRef","useRef","wrapperRef","dimensions","useResizeObserver","useEffect","svg","select","current","margin","top","right","bottom","left","barHeight","w","width","h","height","barPostition","total","sum","dataArr","dat","percent","scaleLinear","domain","range","cumulative","map","label","filter","groupData","xScale","selectAll","join","attr","style","color","palette","background","paper","keys","forEach","camp","i","bg","remove","append","spacing","pos","text","name","primary","ref","overflow","display","SeatRowChart","config","length","parseInt","props","children","classes","className","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","_props$component","component","Component","_props$disableStrictM","disableStrictModeCompat","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","_props$timeout","timeout","standard","_props$TransitionComp","TransitionComponent","Transition","other","timer","autoTransitionDuration","concat","clearTimeout","enableStrictModeCompat","unstable_strictMode","nodeRef","handleRef","useForkRef","undefined","normalizedTransitionCallback","callback","nodeOrAppearing","maybeAppearing","_ref","_ref2","node","isAppearing","handleEnter","handleEntering","wrapperHeight","clientHeight","transitionDuration","mode","duration","duration2","transitions","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","addEndListener","nodeOrNext","maybeNext","next","setTimeout","state","childProps","container","entered","hidden","minHeight","wrapper","wrapperInner","muiSupportAuto","withStyles","transition","create","visibility","FullWidithWrapper","styled","div","Container","DirectHeader","DirectWrapper","divider","warning","main","info","success","TradFCWrapper","breakpoints","up","ExpandButton","IndexPageQuery","IndexPage","allGeoFuncDc2","allTradFunc","candidatesGroupByCamp","useState","showSeatHistory","setShowSeatHistory","seats","Array","from","nodes","t","useTranslation","isDesktop","useMediaQuery","seatCount","UNRESOLVED","seat","k","includes","key","seatType","type","toUpperCase","Number","chartData","seatColorMapping","scm","DEMO","light","BEIJING","c","i18n","renderDirect","edges","Typography","variant","sort","a","b","order","e","candiBeijing","group","find","g","constituency","candiOther","candiDemo","onClick","navigate","getLocalizedPath","withLanguage","SeatRow","calculateSeatBox","renderTradFC","grouppedFc","reduce","idx","findIndex","element","situation","parseFloat","situation_order","content","push","expectedWinDemo","expected_win_demo","expectedWinBeijing","expected_win_beijing","electors_composition","in","PastElectionResult","r","year","result","Grid","item","xs","SimpleTabs","tabs","onTabChange"],"mappings":"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","file":"component---src-pages-index-js-183b81f48528fe293402.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports[\"default\"] = _default;","import React, { useRef, useEffect } from 'react';\nimport { select, sum, scaleLinear } from 'd3';\nimport useResizeObserver from '@/utils/ResizeObserver';\nimport { useTheme } from '@material-ui/core/styles';\n\nfunction SingleStackedBar({ data, summary, title }) {\n  const theme = useTheme();\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  // will be called initially and on every data change\n  useEffect(() => {\n    const svg = select(svgRef.current);\n\n    if (!dimensions) return;\n\n    const config = {\n      margin: { top: 0, right: 0, bottom: 0, left: 0 },\n      barHeight: 25,\n      // ...config\n    };\n\n    const { margin, barHeight } = config;\n    const w = dimensions.width - margin.left - margin.right;\n    const h = dimensions.height - margin.top - margin.bottom;\n    const barPostition = h / 2;\n\n    const groupData = (dat, total) => {\n      // use scale to get percent values\n      const percent = scaleLinear().domain([0, total]).range([0, 100]);\n      // filter out data that has zero values\n      // also get mapping for next placement\n      // (save having to format data for d3 stack)\n      let cumulative = 0;\n      const dataArr = dat\n        .map(d => {\n          cumulative += d.value;\n          return {\n            ...d,\n            value: d.value,\n            cumulative: cumulative - d.value,\n            label: d.label,\n            percent: percent(d.value),\n          };\n        })\n        .filter(d => d.value > 0);\n      return dataArr;\n    };\n\n    const total = sum(data, d => d.value);\n    const dataArr = groupData(data, total);\n\n    // set up scales for horizontal placement\n    const xScale = scaleLinear().domain([0, total]).range([0, w]);\n\n    // stack rect for each data value\n    svg\n      .selectAll('rect')\n      .data(dataArr)\n      .join('rect')\n      .attr('class', 'rect-stacked')\n      .attr('x', d => xScale(d.cumulative))\n      .attr('y', barPostition)\n      .attr('height', barHeight)\n      .attr('width', d => xScale(d.value))\n      .style('fill', d => d.color)\n      .style('stroke', theme.palette.background.paper);\n\n    Object.keys(summary).forEach((camp, i) => {\n      // Text Background\n      const bg = {\n        xMargin: 3,\n        yFromHalfBarHeight: 60,\n        width: 30,\n        height: 22,\n      };\n      svg.selectAll(`.${camp}-name-bg`).remove();\n      svg\n        .append('rect')\n        .attr('class', `${camp}-name-bg`)\n        .attr('x', () =>\n          i === 0\n            ? 0 + theme.spacing(2)\n            : dimensions.width - theme.spacing(2) - bg.width\n        )\n        .attr('y', 0)\n        .attr('width', bg.width)\n        .attr('height', bg.height)\n        .style('fill', summary[camp].background);\n\n      // Camp Name Text\n      svg.selectAll(`.${camp}-name`).remove();\n      svg\n        .append('text')\n        .attr('class', `${camp}-name`)\n        .attr('text-anchor', summary[camp].pos)\n        .text(summary[camp].name)\n        .attr('x', () =>\n          i === 0\n            ? 0 + theme.spacing(2) + bg.xMargin\n            : dimensions.width - theme.spacing(2) - bg.xMargin\n        )\n        .attr('y', 16)\n        .style('fill', '#000000')\n        .style('font-size', 12)\n        .style('font-weight', 500);\n\n      // Camp Total\n      svg.selectAll(`.${camp}-total`).remove();\n      svg\n        .append('text')\n        .attr('class', `${camp}-total`)\n        .attr('text-anchor', summary[camp].pos)\n        .text(summary[camp].total)\n        .attr('x', () =>\n          i === 0 ? 0 + theme.spacing(2) : dimensions.width - theme.spacing(2)\n        )\n        .attr('y', barPostition)\n        .style('fill', theme.palette.text.primary)\n        .style('font-size', 36)\n        .style('font-weight', 900);\n    });\n\n    // Title\n    svg.selectAll('.center-text').remove();\n    svg\n      .append('text')\n      .attr('class', 'center-text')\n      .attr('text-anchor', 'middle')\n      .text(title)\n      .attr('x', dimensions.width / 2)\n      .attr('y', 16)\n      .style('fill', theme.palette.text.primary)\n      .style('font-size', 12)\n      .style('font-weight', 500);\n\n    svg.selectAll('.halfway').remove();\n    svg\n      .append('line')\n      .attr('class', 'halfway')\n      .style('stroke', theme.palette.text.primary)\n      .attr('x1', xScale(total / 2))\n      .attr('y1', barPostition - 2)\n      .attr('x2', xScale(total / 2))\n      .attr('y2', barPostition + barHeight + 2);\n\n    svg.selectAll('.halfway-triangle').remove();\n    svg\n      .append('text')\n      .attr('class', 'halfway-triangle')\n      .attr('text-anchor', 'middle')\n      .attr('x', xScale(total / 2))\n      .attr('y', barPostition - 6)\n      .style('fill', theme.palette.text.primary)\n      .style('font-size', 12)\n      .text('▾');\n\n    svg.selectAll('.halfway-text').remove();\n    svg\n      .append('text')\n      .attr('class', 'halfway-text')\n      .attr('text-anchor', 'middle')\n      .attr('x', xScale(total / 2))\n      .attr('y', barPostition - 16)\n      .style('fill', theme.palette.text.primary)\n      .style('font-size', 12)\n      .text(total / 2);\n\n    // add the labels\n    svg\n      .selectAll('.text-label')\n      .data(dataArr)\n      .join('text')\n      .attr('class', 'text-label')\n      .attr('text-anchor', 'middle')\n      .attr('x', d => xScale(d.cumulative) + xScale(d.value) / 2)\n      .attr('y', h / 2 + barHeight + 12)\n      .style('fill', d => d.color)\n      .style('font-size', 12)\n      .style('font-weight', 700)\n      .text(d => d.label);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data, dimensions]);\n\n  return (\n    <div ref={wrapperRef}>\n      <svg\n        ref={svgRef}\n        style={{\n          overflow: 'visible',\n          display: 'block',\n          width: '100%',\n          height: '100px',\n        }}\n      />\n    </div>\n  );\n}\n\nexport default SingleStackedBar;\n","import React, { useRef, useEffect } from 'react';\nimport { select } from 'd3';\nimport useResizeObserver from '@/utils/ResizeObserver';\n\nfunction SeatRowChart({ data, width }) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  // will be called initially and on every data change\n  useEffect(() => {\n    const svg = select(svgRef.current);\n\n    if (!dimensions) return;\n    const config = {\n      margin: { top: 0, right: 0, bottom: 0, left: 0 },\n      itemMargin: 2,\n      // ...config\n    };\n\n    const length = (dimensions.width - 2 * config.itemMargin) / 3;\n\n    // stack rect for each data value\n    svg\n      .selectAll('rect')\n      .data(data)\n      .join('rect')\n      .attr('class', 'rect-stacked')\n      .attr('x', (d, i) => parseInt(i % 3, 10) * (length + config.itemMargin))\n      .attr('y', (d, i) => parseInt(i / 3, 10) * (length + config.itemMargin))\n      .attr('height', length)\n      .attr('width', length)\n      .style('fill', d => d.color);\n  }, [data, dimensions]);\n\n  return (\n    <div ref={wrapperRef}>\n      <svg\n        ref={svgRef}\n        style={{\n          overflow: 'visible',\n          display: 'block',\n          width: `${width}px`,\n          height: `${width}px`,\n        }}\n      />\n    </div>\n  );\n}\n\nexport default SeatRowChart;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props[\"in\"],\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var handleRef = useForkRef(ref, enableStrictModeCompat ? nodeRef : undefined);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1];\n\n        callback(node, isAppearing);\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  var handleExiting = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  var addEndListener = function addEndListener(nodeOrNext, maybeNext) {\n    var next = enableStrictModeCompat ? nodeOrNext : maybeNext;\n\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    \"in\": inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: handleRef\n    }, childProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import React, { useState } from 'react';\nimport SEO from '@/components/seo';\nimport { graphql, navigate } from 'gatsby';\nimport SingleStackedBarChart from '@/components/charts/SingleStackedBar';\nimport SeatRowChart from '@/components/charts/SeatRow';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Typography, Collapse, useMediaQuery, Grid } from '@material-ui/core';\nimport SimpleTabs from '@/components/SimpleTabs';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { PastElectionResult } from '@/data/ElectionResults';\nimport { seatColorMapping } from '@/config';\nimport { calculateSeatBox } from '@/utils';\nimport { withLanguage, getLocalizedPath } from '@/utils/i18n';\n\nconst FullWidithWrapper = styled.div`\n  margin: 0 -${props => props.theme.spacing(2)}px;\n\n  .fullWidth-title {\n    font-weight: 700;\n    text-align: center;\n    padding: ${props => props.theme.spacing(1)}px 0;\n  }\n`;\n\nconst Container = styled.div`\n  margin: 0 ${props => props.theme.spacing(2)}px;\n`;\n\nconst DirectHeader = styled.div`\n  margin: ${props => props.theme.spacing(2)}px 0;\n`;\n\nconst DirectWrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: ${props => props.theme.spacing(1)}px;\n\n  .seat {\n    padding: ${props => props.theme.spacing(1)}px ${props => props.theme.spacing(1.5)}px;\n    border-radius: 2px;\n    box-shadow: 0 1px 6px 0 ${props => props.theme.palette.divider};\n\n    .title {\n      display: flex;\n      justify-content: space-between;\n    }\n\n    .sub-title {\n      font-size: 0.65rem;\n    }\n\n    .roundup-title {\n      margin-top: ${props => props.theme.spacing(0.5)}px;\n      display: flex;\n      justify-content: space-between;\n    }\n\n    .roundup-title div {\n      line-height: 0.5;\n    }\n\n    .roundup-title div:last-child {\n      text-align: right;\n    }\n\n    .roundup {\n      display: flex;\n      justify-content: space-between;\n      line-height: 1.2;\n    }\n\n    .large-number {\n      font-size: 2rem;\n      font-weight: 900;\n    }\n\n    .demo {\n      text-align: left;\n      color: ${props => props.theme.palette.warning.main};\n    }\n\n    .beijing {\n      text-align: right;\n      color: ${props => props.theme.palette.info.main};\n    }\n\n    .other {\n      color: ${props => props.theme.palette.success.main};\n    }\n  }\n`;\n\nconst TradFCWrapper = styled.div`\n  .situation-group {\n    margin-bottom: ${props => props.theme.spacing(3)}px;\n  }\n\n  .seat-group {\n    margin-top: ${props => props.theme.spacing(1.5)}px;\n    display: grid;\n    grid-gap: ${props => props.theme.spacing(1)}px;\n  }\n\n  .group-title {\n    font-weight: 500;\n    margin: ${props => props.theme.spacing(2)}px 0;\n  }\n\n  .fierce {\n    grid-template-columns: repeat(1, 1fr);\n  }\n\n  ${props => props.theme.breakpoints.up('sm')} {\n    .fierce {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n\n  .probably_demo,\n  .probably_beijing {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .seat {\n    padding: ${props => props.theme.spacing(1)}px ${props => props.theme.spacing(1.5)}px;\n    border-radius: 2px;\n    box-shadow: 0 1px 6px 0 ${props => props.theme.palette.divider};\n\n    .title {\n      display: flex;\n      justify-content: space-between;\n      line-height: 0;\n    }\n  }\n\n  .seat.demo {\n    border-top: 3px ${props => props.theme.palette.warning.main} solid;\n  }\n\n  .seat.beijing {\n    border-top: 3px ${props => props.theme.palette.info.main} solid;\n  }\n`;\n\nconst ExpandButton = styled.div`\n  text-align: center;\n`;\n\nconst IndexPage = props => {\n  const {\n    data: { allGeoFuncDc2, allTradFunc, candidatesGroupByCamp },\n  } = props;\n  const [showSeatHistory, setShowSeatHistory] = useState(false);\n  const seats = [\n    ...Array.from(allGeoFuncDc2.nodes),\n    ...Array.from(allTradFunc.nodes),\n  ];\n\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const isDesktop = useMediaQuery(theme.breakpoints.up('md'));\n  // group data for chart\n  const seatCount = {\n    UNRESOLVED: 70,\n  };\n\n  seats.forEach(seat => {\n    Object.keys(seat)\n      .filter(k => k.includes('expected'))\n      .map(key => {\n        const seatType = `${seat.type}_${key}`.toUpperCase();\n        if (typeof seatCount[seatType] === 'undefined') {\n          seatCount[seatType] = Number(seat[key]);\n        } else {\n          seatCount[seatType] += Number(seat[key]);\n        }\n        seatCount.UNRESOLVED -= Number(seat[key]);\n      });\n  });\n\n  // Build chart data\n  const chartData = Object.keys(seatColorMapping).map(scm => ({\n    key: scm,\n    label: t(`stackedBar.${scm}`),\n    value: seatCount[scm],\n    color: seatColorMapping[scm],\n  }));\n\n  // Build chart data\n  const summary = {\n    DEMO: {\n      name: t('alias.DEMO'),\n      pos: 'start',\n      total: 0,\n      background: theme.palette.warning.light,\n    },\n    BEIJING: {\n      name: t('alias.BEIJING'),\n      pos: 'end',\n      total: 0,\n      background: theme.palette.info.light,\n    },\n  };\n\n  chartData.forEach(c => {\n    if (c.key.includes('DEMO')) {\n      summary.DEMO.total += c.value;\n    }\n    if (c.key.includes('BEIJING')) {\n      summary.BEIJING.total += c.value;\n    }\n  });\n\n  const { i18n } = useTranslation();\n\n  const renderDirect = edges => {\n    return (\n      <>\n        <DirectHeader theme={theme}>\n          <Typography variant=\"body2\">\n            {t('direct_election_description')}\n          </Typography>\n        </DirectHeader>\n        <DirectWrapper theme={theme}>\n          {edges\n            .sort((a, b) => {\n              if (a.order > b.order) return 1;\n              if (a.order < b.order) return -1;\n              return 0;\n            })\n            .map(e => {\n              const candiBeijing =\n                candidatesGroupByCamp.group\n                  .find(g => g.camp === 'BEIJING')\n                  .edges.filter(c => c.node.constituency === e.key).length || 0;\n              const candiOther =\n                candidatesGroupByCamp.group\n                  .find(g => g.camp === 'OTHER')\n                  .edges.filter(c => c.node.constituency === e.key).length || 0;\n              const candiDemo =\n                candidatesGroupByCamp.group\n                  .find(g => g.camp === 'DEMO')\n                  .edges.filter(c => c.node.constituency === e.key).length || 0;\n\n              return (\n                <div\n                  key={e.key}\n                  className=\"seat clickable\"\n                  onClick={() => {\n                    navigate(getLocalizedPath(i18n, `/constituency/${e.key}`));\n                  }}\n                >\n                  <div className=\"title\">\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {t('no_of_seats', { seats: e.seats })}\n                    </Typography>\n                    <div className=\"sub-title\">{t('estimated_result')}</div>\n                  </div>\n                  <div className=\"title\">\n                    <div>\n                      <Typography variant=\"h5\">\n                        {withLanguage(i18n, e, 'alias')}\n                      </Typography>\n                    </div>\n                    <div>\n                      <div style={{ width: '40px', height: '40px' }}>\n                        <SeatRowChart\n                          width={40}\n                          height={40}\n                          data={calculateSeatBox(e)}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"roundup-title\">\n                    <div>\n                      <Typography variant=\"caption\">\n                        {t('alias.DEMO')}\n                      </Typography>\n                      <div className=\"sub-title\">{t('intented_list')}</div>\n                    </div>\n                    <div>\n                      <Typography variant=\"caption\">\n                        {t('alias.BEIJING')}\n                      </Typography>\n                      <div className=\"sub-title\">{t('intented_list')}</div>\n                    </div>\n                  </div>\n                  <div className=\"roundup\">\n                    <div className=\"large-number demo\">{candiDemo || '-'}</div>\n                    <div>\n                      <Typography variant=\"body1\" color=\"textSecondary\">\n                        vs\n                      </Typography>\n                    </div>\n                    {candiOther ? (\n                      <>\n                        <div className=\"large-number other\">\n                          {candiOther || '-'}\n                        </div>\n                        <div>\n                          <Typography variant=\"body1\" color=\"textSecondary\">\n                            vs\n                          </Typography>\n                        </div>\n                      </>\n                    ) : (\n                      ''\n                    )}\n                    <div className=\"large-number beijing\">\n                      {candiBeijing || '-'}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n        </DirectWrapper>\n      </>\n    );\n  };\n\n  const renderTradFC = edges => {\n    const grouppedFc = edges.reduce((a, c) => {\n      const idx = a.findIndex(\n        element => element.title === t(`tag.${c.situation}`)\n      );\n      if (idx < 0) {\n        return [\n          ...a,\n          {\n            key: c.key,\n            title: t(`tag.${c.situation}`),\n            situation: c.situation,\n            order: parseFloat(c.situation_order),\n            content: [c],\n          },\n        ];\n      }\n\n      a[idx].content.push(c);\n      return a;\n    }, []);\n\n    return (\n      <TradFCWrapper theme={theme}>\n        {grouppedFc\n          .sort((a, b) => {\n            if (a.order > b.order) return 1;\n            if (a.order < b.order) return -1;\n            return 0;\n          })\n          .map(group => {\n            return (\n              <div className=\"situation-group\" key={`group-${group.title}`}>\n                <div className=\"group-title\">\n                  {t('no_of_seats_fc', {\n                    title: group.title,\n                    seats: group.content.reduce(\n                      (a, c) => a + Number(c.seats),\n                      0\n                    ),\n                  })}\n                </div>\n                <Typography variant=\"body2\">\n                  {t(`${group.situation}_description`)}\n                </Typography>\n                <div className={`seat-group ${group.situation}`}>\n                  {group.content\n                    .sort((a, b) => {\n                      if (Number(a.situation_order) > Number(b.situation_order))\n                        return 1;\n                      if (Number(a.situation_order) < Number(b.situation_order))\n                        return -1;\n                      return 0;\n                    })\n                    .map(c => {\n                      const expectedWinDemo = Number(c.expected_win_demo) || 0;\n                      // const unresolvedSeats = Number(c.unresolved_seats) || 0\n                      const expectedWinBeijing =\n                        Number(c.expected_win_beijing) || 0;\n\n                      let className = '';\n                      if (expectedWinDemo > expectedWinBeijing) {\n                        className = 'demo';\n                      } else if (expectedWinDemo < expectedWinBeijing) {\n                        className = 'beijing';\n                      }\n\n                      return (\n                        <div\n                          key={c.key}\n                          className={`seat ${className}`}\n                          // onClick={() => {\n                          //   navigate(\n                          //     getLocalizedPath(i18n, `/constituency/${c.key}`)\n                          //   );\n                          // }}\n                        >\n                          <Typography variant=\"caption\" color=\"textSecondary\">\n                            {c.seats}席 -{' '}\n                            {t(\n                              `tag.electors_composition_${c.electors_composition}`\n                            )}\n                          </Typography>\n                          <Typography variant=\"h5\">\n                            {withLanguage(i18n, c, 'name')}\n                          </Typography>\n                          {/* {c.situation !== 'uncontested' ? (\n                            <>\n                              <Typography variant=\"body2\">\n                                親中 - 民主 ={' '}\n                                {c.last_election_vote_beijing_minus_demo}\n                              </Typography>\n                              <Typography variant=\"body2\">\n                                新增選民 + 上屆未投票 ={' '}\n                                {Number(c.electors_total_2020) -\n                                  Number(c.electors_total_2016) +\n                                  Number(c.electors_total_2016) -\n                                  Number(c.last_election_voted_count)}\n                              </Typography>\n                            </>\n                          ) : null} */}\n\n                          {/* <FCStackedBarChart data={{\n                            electors_total_2020: Number(c.electors_total_2020),\n                            electors_total_2016: Number(c.electors_total_2016),\n                            last_election_vote_beijing_minus_demo: Number(c.last_election_vote_beijing_minus_demo),\n                            last_election_voted_count: Number(c.last_election_voted_count)\n                        }}/> */}\n                        </div>\n                      );\n                    })}\n                </div>\n              </div>\n            );\n          })}\n      </TradFCWrapper>\n    );\n  };\n\n  return (\n    <>\n      <SEO title=\"Home\" />\n      <FullWidithWrapper theme={theme}>\n        <SingleStackedBarChart\n          data={chartData}\n          summary={summary}\n          title={t('simulation_result')}\n        />\n        <ExpandButton onClick={() => setShowSeatHistory(!showSeatHistory)}>\n          {showSeatHistory ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n        </ExpandButton>\n        <Collapse in={showSeatHistory} timeout={100}>\n          {PastElectionResult.map(r => (\n            <SingleStackedBarChart\n              key={r.year}\n              data={r.result}\n              summary={r.summary}\n              title={r.year}\n            />\n          ))}\n        </Collapse>\n        {isDesktop ? (\n          <Grid container spacing={3}>\n            <Grid item xs={6}>\n              <div className=\"fullWidth-title\">{t('geo_func_dc2')}</div>\n              {renderDirect(allGeoFuncDc2.nodes)}\n            </Grid>\n            <Grid item xs={6}>\n              <div className=\"fullWidth-title\">{t('trad_func')}</div>\n              {renderTradFC(allTradFunc.nodes)}\n            </Grid>\n          </Grid>\n        ) : (\n          <SimpleTabs\n            tabs={[\n              {\n                name: 'geo_func_dc2',\n                title: t('geo_func_dc2'),\n                content: (\n                  <Container theme={theme}>{renderDirect(allGeoFuncDc2.nodes)}</Container>\n                ),\n              },\n              {\n                name: 'trad_func',\n                title: t('trad_func'),\n                content: (\n                  <Container theme={theme}>{renderTradFC(allTradFunc.nodes)}</Container>\n                ),\n              },\n            ]}\n            onTabChange={() => {\n              // trackCustomEvent({\n              //   category: \"news\",\n              //   action: \"tab_select\",\n              //   label: name,\n              // })\n            }}\n          />\n        )}\n      </FullWidithWrapper>\n    </>\n  );\n};\n\nexport default IndexPage;\n\nexport const IndexPageQuery = graphql`\n  query {\n    allGeoFuncDc2 {\n      nodes {\n        key\n        type\n        order\n        seats\n        situation\n        situation_order\n        name_zh\n        name_en\n        alias_zh\n        alias_en\n        seats\n        unresolved_seats\n        expected_win_demo\n        expected_win_beijing\n        expected_win_other\n      }\n    }\n    allTradFunc {\n      nodes {\n        key\n        type\n        order\n        seats\n        electors_composition\n        electors_total_2016\n        electors_total_2020\n        last_election_vote_beijing_minus_demo\n        last_election_voted_count\n        situation\n        situation_order\n        unresolved_seats\n        expected_win_beijing\n        expected_win_demo\n        expected_win_other\n        name_zh\n        name_en\n        alias_zh\n        alias_en\n      }\n    }\n    candidatesGroupByCamp: allCandidates(filter: { enabled: { eq: \"Y\" } }) {\n      group(field: camp) {\n        camp: fieldValue\n        edges {\n          node {\n            constituency\n          }\n        }\n      }\n    }\n  }\n`;\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n}), 'ExpandLess');\n\nexports[\"default\"] = _default;"],"sourceRoot":""}