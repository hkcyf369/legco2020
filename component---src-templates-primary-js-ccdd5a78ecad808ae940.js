(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"469l":function(e,t,a){"use strict";var r=a("wx14"),n=a("Ff2n"),i=a("q1tI"),l=a("iuhU"),c=a("H2TA"),o=a("5AJ6"),s=Object(o.a)(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var d=i.forwardRef((function(e,t){var a=e.alt,c=e.children,o=e.classes,d=e.className,m=e.component,p=void 0===m?"div":m,u=e.imgProps,f=e.sizes,b=e.src,g=e.srcSet,v=e.variant,y=void 0===v?"circle":v,h=Object(n.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),x=null,E=function(e){var t=e.src,a=e.srcSet,r=i.useState(!1),n=r[0],l=r[1];return i.useEffect((function(){if(t||a){l(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=a,r.onload=function(){e&&l("loaded")},r.onerror=function(){e&&l("error")},function(){e=!1}}}),[t,a]),n}({src:b,srcSet:g}),j=b||g,O=j&&"error"!==E;return x=O?i.createElement("img",Object(r.a)({alt:a,src:b,srcSet:g,sizes:f,className:o.img},u)):null!=c?c:j&&a?a[0]:i.createElement(s,{className:o.fallback}),i.createElement(p,Object(r.a)({className:Object(l.a)(o.root,o.system,o[y],d,!O&&o.colorDefault),ref:t},h),x)}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(d)},"6JlU":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a("q1tI"),n=a.n(r),i=a("vOnD"),l=a("469l"),c=a("9Koi"),o=a("efpO"),s=a("Wbzz"),d=a("AiFK"),m=i.a.div.withConfig({displayName:"People__PeopleWrapper",componentId:"sc-14rjn9w-0"})([".avatar-group{display:flex;flex-direction:column;align-items:center;justify-content:space-end;}","{.avatar{width:48px;height:48px;}}","{.avatar{width:64px;height:64px;}}.avatar.demo{border:3px "," solid;}.avatar.beijing{border:3px "," solid;}.avatar.other{border:3px "," solid;}.center{font-size:12px;text-align:center;display:flex;flex-direction:column;align-items:center;}"],d.a.breakpoints.up("sm"),d.a.breakpoints.up("md"),d.a.palette.warning.main,d.a.palette.info.main,d.a.palette.success.main),p=function(e){var t=e.info,a=e.showName,r=void 0===a||a,i=Object(c.a)().i18n,d=Object(o.b)(i,t,"name");return n.a.createElement(m,{className:"avatar-group clickable",onClick:function(){Object(s.navigate)(Object(o.a)(i,"/profile/"+t.uuid+"/"+d))},onKeyDown:function(){}},n.a.createElement("div",{className:"center"},n.a.createElement(l.a,{className:"avatar "+t.camp.toLowerCase(),alt:d,src:t.img_url}),r&&n.a.createElement("span",null,d+("FALSE"===t.primary?"*":""))))}},"V+3/":function(e,t,a){"use strict";a.r(t);a("YBKJ");var r=a("q1tI"),n=a.n(r),i=a("tRbT"),l=a("ofer"),c=a("vOnD"),o=a("AiFK"),s=a("9Koi"),d=a("rsHp"),m=a("h2rB"),p=a("7Qib"),u=a("efpO"),f=a("Wbzz"),b=a("6JlU"),g=Object(c.a)(i.a).withConfig({displayName:"Primary__Header",componentId:"jl2r8q-0"})(["margin-bottom:","px;.title-box{margin-right:","px;}}.title{font-size:24px;font-weight:700;}"],o.a.spacing(2),o.a.spacing(3)),v=c.a.div.withConfig({displayName:"Primary__CandidatesWrapper",componentId:"jl2r8q-1"})(["margin-top:","px;display:grid;grid-gap:","px;grid-template-columns:repeat(2,1fr);","{grid-template-columns:repeat(4,1fr);}","{grid-template-columns:repeat(6,1fr);}.candi-box{display:flex;align-items:center;.candi-box-info{margin-left:","px;display:flex;flex-direction:column;}}"],o.a.spacing(2),o.a.spacing(1),o.a.breakpoints.up("sm"),o.a.breakpoints.up("md"),o.a.spacing(1));t.default=function(e){var t=e.pageContext,a=t.constituency,r=t.candidates,c=Object(s.a)(),o=c.t,y=c.i18n;return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{container:!0},n.a.createElement(i.a,{item:!0},n.a.createElement(i.a,{container:!0,direction:"column",justify:"center",className:"title-box"},n.a.createElement(l.a,{variant:"body2",color:"textSecondary"},Object(u.b)(y,a,"primary_rule")),n.a.createElement(l.a,{variant:"body2",color:"textSecondary"},o("list_count",{list_count:r.length})),n.a.createElement("div",{className:"title"},Object(u.b)(y,a,"name")))),n.a.createElement(i.a,{item:!0},d.a[a.key]&&n.a.createElement(m.a,{title:{vote:o("dc2019_demo_beijing_ratio"),seat:Number(a.target)>0?o("demo_target"):o("demo_target_not_decide")},votes:d.a[a.key].votes,seats:Object(p.b)(a)}))),Object(u.b)(y,a,"primary_description")&&n.a.createElement(l.a,{className:"block",variant:"body2",dangerouslySetInnerHTML:{__html:Object(u.b)(y,a,"primary_description")}}),n.a.createElement(v,null,r.map((function(e){return n.a.createElement(i.a,{item:!0,className:"candi-box clickable",key:e.node.name_zh,onClick:function(){Object(f.navigate)(Object(u.a)(y,"/profile/"+e.node.uuid+"/"+e.node.name_zh))}},n.a.createElement(b.a,{key:e.node,info:e.node,showName:!1}),n.a.createElement("div",{className:"candi-box-info"},n.a.createElement(l.a,{variant:"h5"},Object(u.b)(y,e.node,"name")),n.a.createElement(l.a,{variant:"caption",color:"textSecondary"},e.node.political_affiliations&&e.node.political_affiliations.map((function(e){return Object(u.b)(y,e,"alias")})).join("/"))))}))))}},h2rB:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),i=a("e89E"),l=a("VphZ"),c=a("AiFK"),o=a("20nU"),s=24,d=3,m=5,p=12;t.a=function(e){var t=e.votes,a=e.seats,u=e.title,f=Object(r.useRef)(),b=Object(r.useRef)(),g=Object(i.a)(b);return Object(r.useEffect)((function(){var e=Object(l.b)(f.current);if(g){var r=s,n=m,i=d,b=p,v=t.DEMO+t.BEIJING,y=Object(l.a)().domain([0,v]).range([0,100]),h=[{value:t.DEMO,cumulative:0,percentage:y(t.DEMO),color:o.a.FC_EXPECTED_WIN_DEMO},{value:t.BEIJING,cumulative:t.DEMO,percentage:y(t.BEIJING),color:o.a.FC_EXPECTED_WIN_BEIJING}],x=Object(l.a)().domain([0,v]).range([0,r*a.length]);e.selectAll(".vote-label").remove(),e.append("text").attr("class","vote-label").attr("text-anchor","start").attr("x",0).attr("y",0).attr("transform","translate(0,"+b+")").style("fill",c.a.palette.text.primary).style("font-size",b).style("font-weight",400).text(u.vote),e.selectAll(".vote-stacked").data(h).join("rect").attr("class","vote-stacked").attr("x",(function(e){return x(e.cumulative)})).attr("y",b+i).attr("height",r).attr("width",(function(e){return x(e.value)})).style("fill",(function(e){return e.color})).style("stroke",c.a.palette.background.paper),e.selectAll(".seat-label").remove(),e.append("text").attr("class","seat-label").attr("text-anchor","start").attr("x",0).attr("y",b+i+r+n/2).attr("transform","translate(0,"+b+")").style("fill",c.a.palette.text.primary).style("font-size",b).style("font-weight",400).text(u.seat),e.selectAll("seat").data(a).join("rect").attr("class","seat-stacked").attr("x",(function(e,t){return t*r})).attr("y",b+i+r+n+b).attr("height",r).attr("width",r).style("fill",(function(e){return e.color})).style("stroke",c.a.palette.background.paper),e.selectAll(".text-percentage-label").data(h).join("text").attr("class","text-percentage-label").attr("text-anchor","middle").attr("x",(function(e){return x(e.cumulative)+x(e.value)/2})).attr("y",b+i+r/2+5).style("fill",c.a.palette.text.primary).style("font-size",16).style("font-weight",700).text((function(e){return e.percentage.toFixed(0)+"%"}))}}),[t,a,g]),n.a.createElement("div",{ref:b},n.a.createElement("svg",{ref:f,style:{overflow:"visible",display:"block",width:s*a.length+"px",height:"84px"}}))}}}]);
//# sourceMappingURL=component---src-templates-primary-js-ccdd5a78ecad808ae940.js.map