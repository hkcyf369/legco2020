{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/ExpandMore.js","webpack:///./node_modules/@material-ui/core/esm/transitions/utils.js","webpack:///./node_modules/@material-ui/icons/utils/createSvgIcon.js","webpack:///./src/components/charts/SingleStackedBar.js","webpack:///./src/components/charts/SeatRow.js","webpack:///./node_modules/@material-ui/core/esm/Collapse/Collapse.js","webpack:///./src/pages/index.js","webpack:///./node_modules/@material-ui/core/esm/SvgIcon/index.js","webpack:///./node_modules/react-transition-group/esm/config.js","webpack:///./node_modules/react-transition-group/esm/Transition.js","webpack:///./node_modules/@material-ui/icons/ExpandLess.js"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","_react","_default","createElement","d","reflow","node","scrollTop","getTransitionProps","props","options","timeout","_props$style","style","duration","transitionDuration","mode","delay","transitionDelay","path","displayName","Component","memo","forwardRef","ref","_SvgIcon","_extends2","muiName","SingleStackedBar","data","summary","title","svgRef","useRef","wrapperRef","dimensions","useResizeObserver","useEffect","svg","select","current","margin","top","right","bottom","left","barHeight","w","width","h","height","barPostition","total","sum","dataArr","dat","percent","scaleLinear","domain","range","cumulative","map","label","filter","groupData","xScale","selectAll","join","attr","color","theme","palette","background","paper","keys","forEach","camp","i","bg","remove","append","spacing","pos","text","name","primary","overflow","display","SeatRowChart","config","length","parseInt","children","classes","className","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","_props$component","component","_props$disableStrictM","disableStrictModeCompat","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","_props$timeout","standard","_props$TransitionComp","TransitionComponent","Transition","other","useTheme","timer","autoTransitionDuration","concat","clearTimeout","enableStrictModeCompat","unstable_strictMode","nodeRef","handleRef","useForkRef","undefined","normalizedTransitionCallback","callback","nodeOrAppearing","maybeAppearing","_ref","_ref2","isAppearing","handleEnter","handleEntering","wrapperHeight","clientHeight","duration2","transitions","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","addEndListener","nodeOrNext","maybeNext","next","setTimeout","state","childProps","container","entered","hidden","minHeight","wrapper","wrapperInner","muiSupportAuto","withStyles","transition","create","visibility","FullWidithWrapper","styled","div","Container","DirectHeader","DirectWrapper","divider","warning","main","info","success","TradFCWrapper","breakpoints","up","ExpandButton","IndexPageQuery","IndexPage","allGeoFuncDc2","allTradFunc","candidatesGroupByCamp","useState","showSeatHistory","setShowSeatHistory","seats","Array","from","nodes","t","useTranslation","isDesktop","useMediaQuery","seatCount","UNRESOLVED","seat","k","includes","key","seatType","type","toUpperCase","Number","chartData","seatColorMapping","scm","DEMO","light","BEIJING","c","i18n","renderDirect","edges","Typography","variant","sort","a","b","order","e","candiBeijing","group","find","g","constituency","candiOther","candiDemo","onClick","navigate","getLocalizedPath","withLanguage","SeatRow","calculateSeatBox","renderTradFC","grouppedFc","reduce","idx","findIndex","element","situation","parseFloat","situation_order","content","push","expectedWinDemo","expected_win_demo","expectedWinBeijing","expected_win_beijing","electors_composition","in","PastElectionResult","r","year","result","Grid","item","xs","SimpleTabs","tabs","onTabChange","_React$Component","context","_this","call","this","initialStatus","appear","isMounting","enter","appearStatus","unmountOnExit","mountOnEnter","status","nextCallback","getDerivedStateFromProps","prevState","_proto","prototype","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","mounting","performEnter","performExit","setState","_this2","appearing","findDOMNode","maybeNode","timeouts","enterTimeout","safeSetState","onTransitionEnd","_this3","cancel","nextState","setNextCallback","_this4","active","event","handler","doesNotHaveTimeoutOrListener","_ref3","maybeNextCallback","render","_this$props","TransitionGroupContext","Provider","cloneElement","Children","only","noop","contextType","defaultProps","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING"],"mappings":"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","file":"component---src-pages-index-js-7ed24ce292a221456e35.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports[\"default\"] = _default;","export var reflow = function reflow(node) {\n  return node.scrollTop;\n};\nexport function getTransitionProps(props, options) {\n  var timeout = props.timeout,\n      _props$style = props.style,\n      style = _props$style === void 0 ? {} : _props$style;\n  return {\n    duration: style.transitionDuration || typeof timeout === 'number' ? timeout : timeout[options.mode] || 0,\n    delay: style.transitionDelay\n  };\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react[\"default\"].memo(_react[\"default\"].forwardRef(function (props, ref) {\n    return _react[\"default\"].createElement(_SvgIcon[\"default\"], (0, _extends2[\"default\"])({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon[\"default\"].muiName;\n  return Component;\n}","import React, { useRef, useEffect } from 'react';\nimport { select, sum, scaleLinear } from 'd3';\nimport useResizeObserver from '@/utils/ResizeObserver';\nimport theme from '@/themes';\n\nfunction SingleStackedBar({ data, summary, title }) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  // will be called initially and on every data change\n  useEffect(() => {\n    const svg = select(svgRef.current);\n\n    if (!dimensions) return;\n\n    const config = {\n      margin: { top: 0, right: 0, bottom: 0, left: 0 },\n      barHeight: 25,\n      // ...config\n    };\n\n    const { margin, barHeight } = config;\n    const w = dimensions.width - margin.left - margin.right;\n    const h = dimensions.height - margin.top - margin.bottom;\n    const barPostition = h / 2;\n\n    const groupData = (dat, total) => {\n      // use scale to get percent values\n      const percent = scaleLinear().domain([0, total]).range([0, 100]);\n      // filter out data that has zero values\n      // also get mapping for next placement\n      // (save having to format data for d3 stack)\n      let cumulative = 0;\n      const dataArr = dat\n        .map(d => {\n          cumulative += d.value;\n          return {\n            ...d,\n            value: d.value,\n            cumulative: cumulative - d.value,\n            label: d.label,\n            percent: percent(d.value),\n          };\n        })\n        .filter(d => d.value > 0);\n      return dataArr;\n    };\n\n    const total = sum(data, d => d.value);\n    const dataArr = groupData(data, total);\n\n    // set up scales for horizontal placement\n    const xScale = scaleLinear().domain([0, total]).range([0, w]);\n\n    // stack rect for each data value\n    svg\n      .selectAll('rect')\n      .data(dataArr)\n      .join('rect')\n      .attr('class', 'rect-stacked')\n      .attr('x', d => xScale(d.cumulative))\n      .attr('y', barPostition)\n      .attr('height', barHeight)\n      .attr('width', d => xScale(d.value))\n      .style('fill', d => d.color)\n      .style('stroke', theme.palette.background.paper);\n\n    Object.keys(summary).forEach((camp, i) => {\n      // Text Background\n      const bg = {\n        xMargin: 3,\n        yFromHalfBarHeight: 60,\n        width: 30,\n        height: 22,\n      };\n      svg.selectAll(`.${camp}-name-bg`).remove();\n      svg\n        .append('rect')\n        .attr('class', `${camp}-name-bg`)\n        .attr('x', () =>\n          i === 0\n            ? 0 + theme.spacing(2)\n            : dimensions.width - theme.spacing(2) - bg.width\n        )\n        .attr('y', 0)\n        .attr('width', bg.width)\n        .attr('height', bg.height)\n        .style('fill', summary[camp].background);\n\n      // Camp Name Text\n      svg.selectAll(`.${camp}-name`).remove();\n      svg\n        .append('text')\n        .attr('class', `${camp}-name`)\n        .attr('text-anchor', summary[camp].pos)\n        .text(summary[camp].name)\n        .attr('x', () =>\n          i === 0\n            ? 0 + theme.spacing(2) + bg.xMargin\n            : dimensions.width - theme.spacing(2) - bg.xMargin\n        )\n        .attr('y', 16)\n        .style('fill', '#000000')\n        .style('font-size', 12)\n        .style('font-weight', 500);\n\n      // Camp Total\n      svg.selectAll(`.${camp}-total`).remove();\n      svg\n        .append('text')\n        .attr('class', `${camp}-total`)\n        .attr('text-anchor', summary[camp].pos)\n        .text(summary[camp].total)\n        .attr('x', () =>\n          i === 0 ? 0 + theme.spacing(2) : dimensions.width - theme.spacing(2)\n        )\n        .attr('y', barPostition)\n        .style('fill', theme.palette.text.primary)\n        .style('font-size', 36)\n        .style('font-weight', 900);\n    });\n\n    // Title\n    svg.selectAll('.center-text').remove();\n    svg\n      .append('text')\n      .attr('class', 'center-text')\n      .attr('text-anchor', 'middle')\n      .text(title)\n      .attr('x', dimensions.width / 2)\n      .attr('y', 16)\n      .style('fill', theme.palette.text.primary)\n      .style('font-size', 12)\n      .style('font-weight', 500);\n\n    svg.selectAll('.halfway').remove();\n    svg\n      .append('line')\n      .attr('class', 'halfway')\n      .style('stroke', theme.palette.text.primary)\n      .attr('x1', xScale(total / 2))\n      .attr('y1', barPostition - 2)\n      .attr('x2', xScale(total / 2))\n      .attr('y2', barPostition + barHeight + 2);\n\n    svg.selectAll('.halfway-triangle').remove();\n    svg\n      .append('text')\n      .attr('class', 'halfway-triangle')\n      .attr('text-anchor', 'middle')\n      .attr('x', xScale(total / 2))\n      .attr('y', barPostition - 6)\n      .style('fill', theme.palette.text.primary)\n      .style('font-size', 12)\n      .text('▾');\n\n    svg.selectAll('.halfway-text').remove();\n    svg\n      .append('text')\n      .attr('class', 'halfway-text')\n      .attr('text-anchor', 'middle')\n      .attr('x', xScale(total / 2))\n      .attr('y', barPostition - 16)\n      .style('fill', theme.palette.text.primary)\n      .style('font-size', 12)\n      .text(total / 2);\n\n    // add the labels\n    svg\n      .selectAll('.text-label')\n      .data(dataArr)\n      .join('text')\n      .attr('class', 'text-label')\n      .attr('text-anchor', 'middle')\n      .attr('x', d => xScale(d.cumulative) + xScale(d.value) / 2)\n      .attr('y', h / 2 + barHeight + 12)\n      .style('fill', d => d.color)\n      .style('font-size', 12)\n      .style('font-weight', 700)\n      .text(d => d.label);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data, dimensions]);\n\n  return (\n    <div ref={wrapperRef}>\n      <svg\n        ref={svgRef}\n        style={{\n          overflow: 'visible',\n          display: 'block',\n          width: '100%',\n          height: '100px',\n        }}\n      />\n    </div>\n  );\n}\n\nexport default SingleStackedBar;\n","import React, { useRef, useEffect } from 'react';\nimport { select } from 'd3';\nimport useResizeObserver from '@/utils/ResizeObserver';\n\nfunction SeatRowChart({ data, width }) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  // will be called initially and on every data change\n  useEffect(() => {\n    const svg = select(svgRef.current);\n\n    if (!dimensions) return;\n    const config = {\n      margin: { top: 0, right: 0, bottom: 0, left: 0 },\n      itemMargin: 2,\n      // ...config\n    };\n\n    const length = (dimensions.width - 2 * config.itemMargin) / 3;\n\n    // stack rect for each data value\n    svg\n      .selectAll('rect')\n      .data(data)\n      .join('rect')\n      .attr('class', 'rect-stacked')\n      .attr('x', (d, i) => parseInt(i % 3, 10) * (length + config.itemMargin))\n      .attr('y', (d, i) => parseInt(i / 3, 10) * (length + config.itemMargin))\n      .attr('height', length)\n      .attr('width', length)\n      .style('fill', d => d.color);\n  }, [data, dimensions]);\n\n  return (\n    <div ref={wrapperRef}>\n      <svg\n        ref={svgRef}\n        style={{\n          overflow: 'visible',\n          display: 'block',\n          width: `${width}px`,\n          height: `${width}px`,\n        }}\n      />\n    </div>\n  );\n}\n\nexport default SeatRowChart;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props[\"in\"],\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var handleRef = useForkRef(ref, enableStrictModeCompat ? nodeRef : undefined);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1];\n\n        callback(node, isAppearing);\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  var handleExiting = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  var addEndListener = function addEndListener(nodeOrNext, maybeNext) {\n    var next = enableStrictModeCompat ? nodeOrNext : maybeNext;\n\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    \"in\": inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: handleRef\n    }, childProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import React, { useState } from 'react';\nimport SEO from '@/components/seo';\nimport { graphql, navigate } from 'gatsby';\nimport SingleStackedBarChart from '@/components/charts/SingleStackedBar';\nimport SeatRowChart from '@/components/charts/SeatRow';\nimport theme from '@/themes';\nimport { Typography, Collapse, useMediaQuery, Grid } from '@material-ui/core';\nimport SimpleTabs from '@/components/SimpleTabs';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { PastElectionResult } from '@/data/ElectionResults';\nimport { seatColorMapping } from '@/config';\nimport { calculateSeatBox } from '@/utils';\nimport { withLanguage, getLocalizedPath } from '@/utils/i18n';\n\nconst FullWidithWrapper = styled.div`\n  margin: 0 -${theme.spacing(2)}px;\n\n  .fullWidth-title {\n    font-weight: 700;\n    text-align: center;\n    padding: ${theme.spacing(1)}px 0;\n  }\n`;\n\nconst Container = styled.div`\n  margin: 0 ${theme.spacing(2)}px;\n`;\n\nconst DirectHeader = styled.div`\n  margin: ${theme.spacing(2)}px 0;\n`;\n\nconst DirectWrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: ${theme.spacing(1)}px;\n\n  .seat {\n    padding: ${theme.spacing(1)}px ${theme.spacing(1.5)}px;\n    border-radius: 2px;\n    box-shadow: 0 1px 6px 0 ${theme.palette.divider};\n\n    .title {\n      display: flex;\n      justify-content: space-between;\n    }\n\n    .sub-title {\n      font-size: 0.65rem;\n    }\n\n    .roundup-title {\n      margin-top: ${theme.spacing(0.5)}px;\n      display: flex;\n      justify-content: space-between;\n    }\n\n    .roundup-title div {\n      line-height: 0.5;\n    }\n\n    .roundup-title div:last-child {\n      text-align: right;\n    }\n\n    .roundup {\n      display: flex;\n      justify-content: space-between;\n      line-height: 1.2;\n    }\n\n    .large-number {\n      font-size: 2rem;\n      font-weight: 900;\n    }\n\n    .demo {\n      text-align: left;\n      color: ${theme.palette.warning.main};\n    }\n\n    .beijing {\n      text-align: right;\n      color: ${theme.palette.info.main};\n    }\n\n    .other {\n      color: ${theme.palette.success.main};\n    }\n  }\n`;\n\nconst TradFCWrapper = styled.div`\n  .situation-group {\n    margin-bottom: ${theme.spacing(3)}px;\n  }\n\n  .seat-group {\n    margin-top: ${theme.spacing(1.5)}px;\n    display: grid;\n    grid-gap: ${theme.spacing(1)}px;\n  }\n\n  .group-title {\n    font-weight: 500;\n    margin: ${theme.spacing(2)}px 0;\n  }\n\n  .fierce {\n    grid-template-columns: repeat(1, 1fr);\n  }\n\n  ${theme.breakpoints.up('sm')} {\n    .fierce {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n\n  .probably_demo,\n  .probably_beijing {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .seat {\n    padding: ${theme.spacing(1)}px ${theme.spacing(1.5)}px;\n    border-radius: 2px;\n    box-shadow: 0 1px 6px 0 ${theme.palette.divider};\n\n    .title {\n      display: flex;\n      justify-content: space-between;\n      line-height: 0;\n    }\n  }\n\n  .seat.demo {\n    border-top: 3px ${theme.palette.warning.main} solid;\n  }\n\n  .seat.beijing {\n    border-top: 3px ${theme.palette.info.main} solid;\n  }\n`;\n\nconst ExpandButton = styled.div`\n  text-align: center;\n`;\n\nconst IndexPage = props => {\n  const {\n    data: { allGeoFuncDc2, allTradFunc, candidatesGroupByCamp },\n  } = props;\n  const [showSeatHistory, setShowSeatHistory] = useState(false);\n  const seats = [\n    ...Array.from(allGeoFuncDc2.nodes),\n    ...Array.from(allTradFunc.nodes),\n  ];\n\n  const { t } = useTranslation();\n  const isDesktop = useMediaQuery(theme.breakpoints.up('md'));\n  // group data for chart\n  const seatCount = {\n    UNRESOLVED: 70,\n  };\n\n  seats.forEach(seat => {\n    Object.keys(seat)\n      .filter(k => k.includes('expected'))\n      .map(key => {\n        const seatType = `${seat.type}_${key}`.toUpperCase();\n        if (typeof seatCount[seatType] === 'undefined') {\n          seatCount[seatType] = Number(seat[key]);\n        } else {\n          seatCount[seatType] += Number(seat[key]);\n        }\n        seatCount.UNRESOLVED -= Number(seat[key]);\n      });\n  });\n\n  // Build chart data\n  const chartData = Object.keys(seatColorMapping).map(scm => ({\n    key: scm,\n    label: t(`stackedBar.${scm}`),\n    value: seatCount[scm],\n    color: seatColorMapping[scm],\n  }));\n\n  // Build chart data\n  const summary = {\n    DEMO: {\n      name: t('alias.DEMO'),\n      pos: 'start',\n      total: 0,\n      background: theme.palette.warning.light,\n    },\n    BEIJING: {\n      name: t('alias.BEIJING'),\n      pos: 'end',\n      total: 0,\n      background: theme.palette.info.light,\n    },\n  };\n\n  chartData.forEach(c => {\n    if (c.key.includes('DEMO')) {\n      summary.DEMO.total += c.value;\n    }\n    if (c.key.includes('BEIJING')) {\n      summary.BEIJING.total += c.value;\n    }\n  });\n\n  const { i18n } = useTranslation();\n\n  const renderDirect = edges => {\n    return (\n      <>\n        <DirectHeader>\n          <Typography variant=\"body2\">\n            {t('direct_election_description')}\n          </Typography>\n        </DirectHeader>\n        <DirectWrapper>\n          {edges\n            .sort((a, b) => {\n              if (a.order > b.order) return 1;\n              if (a.order < b.order) return -1;\n              return 0;\n            })\n            .map(e => {\n              const candiBeijing =\n                candidatesGroupByCamp.group\n                  .find(g => g.camp === 'BEIJING')\n                  .edges.filter(c => c.node.constituency === e.key).length || 0;\n              const candiOther =\n                candidatesGroupByCamp.group\n                  .find(g => g.camp === 'OTHER')\n                  .edges.filter(c => c.node.constituency === e.key).length || 0;\n              const candiDemo =\n                candidatesGroupByCamp.group\n                  .find(g => g.camp === 'DEMO')\n                  .edges.filter(c => c.node.constituency === e.key).length || 0;\n\n              return (\n                <div\n                  key={e.key}\n                  className=\"seat clickable\"\n                  onClick={() => {\n                    navigate(getLocalizedPath(i18n, `/constituency/${e.key}`));\n                  }}\n                >\n                  <div className=\"title\">\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {t('no_of_seats', { seats: e.seats })}\n                    </Typography>\n                    <div className=\"sub-title\">{t('estimated_result')}</div>\n                  </div>\n                  <div className=\"title\">\n                    <div>\n                      <Typography variant=\"h5\">\n                        {withLanguage(i18n, e, 'alias')}\n                      </Typography>\n                    </div>\n                    <div>\n                      <div style={{ width: '40px', height: '40px' }}>\n                        <SeatRowChart\n                          width={40}\n                          height={40}\n                          data={calculateSeatBox(e)}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"roundup-title\">\n                    <div>\n                      <Typography variant=\"caption\">\n                        {t('alias.DEMO')}\n                      </Typography>\n                      <div className=\"sub-title\">{t('intented_list')}</div>\n                    </div>\n                    <div>\n                      <Typography variant=\"caption\">\n                        {t('alias.BEIJING')}\n                      </Typography>\n                      <div className=\"sub-title\">{t('intented_list')}</div>\n                    </div>\n                  </div>\n                  <div className=\"roundup\">\n                    <div className=\"large-number demo\">{candiDemo || '-'}</div>\n                    <div>\n                      <Typography variant=\"body1\" color=\"textSecondary\">\n                        vs\n                      </Typography>\n                    </div>\n                    {candiOther ? (\n                      <>\n                        <div className=\"large-number other\">\n                          {candiOther || '-'}\n                        </div>\n                        <div>\n                          <Typography variant=\"body1\" color=\"textSecondary\">\n                            vs\n                          </Typography>\n                        </div>\n                      </>\n                    ) : (\n                      ''\n                    )}\n                    <div className=\"large-number beijing\">\n                      {candiBeijing || '-'}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n        </DirectWrapper>\n      </>\n    );\n  };\n\n  const renderTradFC = edges => {\n    const grouppedFc = edges.reduce((a, c) => {\n      const idx = a.findIndex(\n        element => element.title === t(`tag.${c.situation}`)\n      );\n      if (idx < 0) {\n        return [\n          ...a,\n          {\n            key: c.key,\n            title: t(`tag.${c.situation}`),\n            situation: c.situation,\n            order: parseFloat(c.situation_order),\n            content: [c],\n          },\n        ];\n      }\n\n      a[idx].content.push(c);\n      return a;\n    }, []);\n\n    return (\n      <TradFCWrapper>\n        {grouppedFc\n          .sort((a, b) => {\n            if (a.order > b.order) return 1;\n            if (a.order < b.order) return -1;\n            return 0;\n          })\n          .map(group => {\n            return (\n              <div className=\"situation-group\" key={`group-${group.title}`}>\n                <div className=\"group-title\">\n                  {t('no_of_seats_fc', {\n                    title: group.title,\n                    seats: group.content.reduce(\n                      (a, c) => a + Number(c.seats),\n                      0\n                    ),\n                  })}\n                </div>\n                <Typography variant=\"body2\">\n                  {t(`${group.situation}_description`)}\n                </Typography>\n                <div className={`seat-group ${group.situation}`}>\n                  {group.content\n                    .sort((a, b) => {\n                      if (Number(a.situation_order) > Number(b.situation_order))\n                        return 1;\n                      if (Number(a.situation_order) < Number(b.situation_order))\n                        return -1;\n                      return 0;\n                    })\n                    .map(c => {\n                      const expectedWinDemo = Number(c.expected_win_demo) || 0;\n                      // const unresolvedSeats = Number(c.unresolved_seats) || 0\n                      const expectedWinBeijing =\n                        Number(c.expected_win_beijing) || 0;\n\n                      let className = '';\n                      if (expectedWinDemo > expectedWinBeijing) {\n                        className = 'demo';\n                      } else if (expectedWinDemo < expectedWinBeijing) {\n                        className = 'beijing';\n                      }\n\n                      return (\n                        <div\n                          key={c.key}\n                          className={`seat ${className}`}\n                          // onClick={() => {\n                          //   navigate(\n                          //     getLocalizedPath(i18n, `/constituency/${c.key}`)\n                          //   );\n                          // }}\n                        >\n                          <Typography variant=\"caption\" color=\"textSecondary\">\n                            {c.seats}席 -{' '}\n                            {t(\n                              `tag.electors_composition_${c.electors_composition}`\n                            )}\n                          </Typography>\n                          <Typography variant=\"h5\">\n                            {withLanguage(i18n, c, 'name')}\n                          </Typography>\n                          {/* {c.situation !== 'uncontested' ? (\n                            <>\n                              <Typography variant=\"body2\">\n                                親中 - 民主 ={' '}\n                                {c.last_election_vote_beijing_minus_demo}\n                              </Typography>\n                              <Typography variant=\"body2\">\n                                新增選民 + 上屆未投票 ={' '}\n                                {Number(c.electors_total_2020) -\n                                  Number(c.electors_total_2016) +\n                                  Number(c.electors_total_2016) -\n                                  Number(c.last_election_voted_count)}\n                              </Typography>\n                            </>\n                          ) : null} */}\n\n                          {/* <FCStackedBarChart data={{\n                            electors_total_2020: Number(c.electors_total_2020),\n                            electors_total_2016: Number(c.electors_total_2016),\n                            last_election_vote_beijing_minus_demo: Number(c.last_election_vote_beijing_minus_demo),\n                            last_election_voted_count: Number(c.last_election_voted_count)\n                        }}/> */}\n                        </div>\n                      );\n                    })}\n                </div>\n              </div>\n            );\n          })}\n      </TradFCWrapper>\n    );\n  };\n\n  return (\n    <>\n      <SEO title=\"Home\" />\n      <FullWidithWrapper>\n        <SingleStackedBarChart\n          data={chartData}\n          summary={summary}\n          title={t('simulation_result')}\n        />\n        <ExpandButton onClick={() => setShowSeatHistory(!showSeatHistory)}>\n          {showSeatHistory ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n        </ExpandButton>\n        <Collapse in={showSeatHistory} timeout={100}>\n          {PastElectionResult.map(r => (\n            <SingleStackedBarChart\n              key={r.year}\n              data={r.result}\n              summary={r.summary}\n              title={r.year}\n            />\n          ))}\n        </Collapse>\n        {isDesktop ? (\n          <Grid container spacing={3}>\n            <Grid item xs={6}>\n              <div className=\"fullWidth-title\">{t('geo_func_dc2')}</div>\n              {renderDirect(allGeoFuncDc2.nodes)}\n            </Grid>\n            <Grid item xs={6}>\n              <div className=\"fullWidth-title\">{t('trad_func')}</div>\n              {renderTradFC(allTradFunc.nodes)}\n            </Grid>\n          </Grid>\n        ) : (\n          <SimpleTabs\n            tabs={[\n              {\n                name: 'geo_func_dc2',\n                title: t('geo_func_dc2'),\n                content: (\n                  <Container>{renderDirect(allGeoFuncDc2.nodes)}</Container>\n                ),\n              },\n              {\n                name: 'trad_func',\n                title: t('trad_func'),\n                content: (\n                  <Container>{renderTradFC(allTradFunc.nodes)}</Container>\n                ),\n              },\n            ]}\n            onTabChange={() => {\n              // trackCustomEvent({\n              //   category: \"news\",\n              //   action: \"tab_select\",\n              //   label: name,\n              // })\n            }}\n          />\n        )}\n      </FullWidithWrapper>\n    </>\n  );\n};\n\nexport default IndexPage;\n\nexport const IndexPageQuery = graphql`\n  query {\n    allGeoFuncDc2 {\n      nodes {\n        key\n        type\n        order\n        seats\n        situation\n        situation_order\n        name_zh\n        name_en\n        alias_zh\n        alias_en\n        seats\n        unresolved_seats\n        expected_win_demo\n        expected_win_beijing\n        expected_win_other\n      }\n    }\n    allTradFunc {\n      nodes {\n        key\n        type\n        order\n        seats\n        electors_composition\n        electors_total_2016\n        electors_total_2020\n        last_election_vote_beijing_minus_demo\n        last_election_voted_count\n        situation\n        situation_order\n        unresolved_seats\n        expected_win_beijing\n        expected_win_demo\n        expected_win_other\n        name_zh\n        name_en\n        alias_zh\n        alias_en\n      }\n    }\n    candidatesGroupByCamp: allCandidates(filter: { enabled: { eq: \"Y\" } }) {\n      group(field: camp) {\n        camp: fieldValue\n        edges {\n          node {\n            constituency\n          }\n        }\n      }\n    }\n  }\n`;\n","export { default } from './SvgIcon';","export default {\n  disabled: false\n};","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props[\"in\"]) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref[\"in\"];\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props[\"in\"]) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props[\"in\"],\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\n\n// Name the function so it is clearer in the documentation\nfunction noop() {}\n\nTransition.defaultProps = {\n  \"in\": false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n}), 'ExpandLess');\n\nexports[\"default\"] = _default;"],"sourceRoot":""}