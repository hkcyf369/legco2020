{"version":3,"sources":["webpack:///./src/templates/TradFuncConstituency.js","webpack:///./src/components/People.js"],"names":["TradTemplateWrapper","styled","div","theme","spacing","TradHeader","Grid","CandidatesWrapper","TradFuncConstituencyTemplate","pageContext","constituency","councillors","candidates","tags","useTranslation","t","i18n","container","item","direction","justify","className","variant","color","seats","withLanguage","electors_total_2020","Number","electors_total_2016","last_election_vote_beijing_minus_demo","map","tag","label","i18nKey","c","key","node","info","filter","is_2020_candidate","campColorMapping","demo","palette","warning","main","beijing","other","success","CampAvatar","Avatar","props","xsDimenion","border","camp","PeopleWrapper","breakpoints","up","PeopleCircle","showName","name","onClick","navigate","getLocalizedPath","uuid","onKeyDown","alt","src","img_url","toLowerCase","primary","PeopleBox","subText","Wrapper"],"mappings":"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","file":"component---src-templates-trad-func-constituency-js-082606c3652e1439b7a7.js","sourcesContent":["import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport Chip from '@/components/Chip';\nimport styled from 'styled-components';\nimport theme from '@/themes';\nimport { useTranslation } from 'react-i18next';\nimport { withLanguage } from '@/utils/i18n';\nimport { PeopleCircle } from '@/components/People';\n\nconst TradTemplateWrapper = styled.div`\n  .block {\n    margin: ${theme.spacing(1)}px 0;\n  }\n\n  .social {\n    font-size: 24px;\n  }\n\n  .social svg {\n    margin-left: ${theme.spacing(1)}px;\n  }\n`;\n\nconst TradHeader = styled(Grid)`\n\n  .title-box {\n    margin-right: ${theme.spacing(3)}px;\n  }\n  }\n  .title {\n    font-size: 24px;\n    font-weight: 700;\n  }\n`;\n\nconst CandidatesWrapper = styled.div`\n  display: grid;\n  grid-gap: ${theme.spacing(1)}px;\n  grid-template-columns: repeat(4, 1fr);\n`;\n\nconst TradFuncConstituencyTemplate = ({\n  pageContext: { constituency, councillors, candidates, tags },\n}) => {\n  const { t, i18n } = useTranslation();\n\n  return (\n    <TradTemplateWrapper>\n      <TradHeader container>\n        <Grid item>\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            className=\"title-box\"\n          >\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              {t('no_of_seats', { seats: constituency.seats })}\n            </Typography>\n            <div className=\"title\">\n              {withLanguage(i18n, constituency, 'name')}\n            </div>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Typography variant=\"body1\">\n            {`${t('number_of_voters')} ${\n              constituency.electors_total_2020\n            }（較16年${\n              Number(constituency.electors_total_2020) -\n              Number(constituency.electors_total_2016)\n            }）`}\n          </Typography>\n          <Typography variant=\"body1\">\n            {t('vote_diff')}{' '}\n            {constituency.last_election_vote_beijing_minus_demo}\n          </Typography>\n        </Grid>\n      </TradHeader>\n      <Grid className=\"block\" container>\n        {tags.map(tag => (\n          <Chip label={t(`tag.${tag.i18nKey}`)} variant=\"outlined\" />\n        ))}\n      </Grid>\n      <Typography className=\"block\" variant=\"body2\">\n        {withLanguage(i18n, constituency, 'description')}\n      </Typography>\n      <Typography variant=\"h5\">{t('current_legislator')}</Typography>\n      <Grid container>\n        {councillors.map(c => (\n          <PeopleCircle key={c.node} info={c.node} />\n        ))}\n      </Grid>\n      <Typography variant=\"h5\">{t('intended')}</Typography>\n      <CandidatesWrapper>\n        {candidates\n          .filter(c => c.node.is_2020_candidate === 'TRUE')\n          .map(c => (\n            <PeopleCircle key={c.node} info={c.node} />\n          ))}\n      </CandidatesWrapper>\n    </TradTemplateWrapper>\n  );\n};\n\nexport default TradFuncConstituencyTemplate;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\nimport { withLanguage, getLocalizedPath } from '@/utils/i18n';\nimport { navigate } from 'gatsby';\nimport theme from '@/themes';\n\nconst campColorMapping = {\n  demo: theme.palette.warning.main,\n  beijing: theme.palette.info.main,\n  other: theme.palette.success.main,\n};\n\nconst CampAvatar = styled(Avatar)`\n  width: ${props => props.xsDimenion || 48}px;\n  height: ${props => props.xsDimenion || 48}px;\n  border: ${props => props.border || 3}px\n    ${props => campColorMapping[props.camp]} solid;\n`;\n\nconst PeopleWrapper = styled.div`\n  .avatar-group {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-end;\n  }\n\n  ${theme.breakpoints.up('md')} {\n    .avatar {\n      width: 64px;\n      height: 64px;\n    }\n  }\n\n  .avatar.demo {\n    border: 3px ${theme.palette.warning.main} solid;\n  }\n\n  .avatar.beijing {\n    border: 3px ${theme.palette.info.main} solid;\n  }\n\n  .avatar.other {\n    border: 3px ${theme.palette.success.main} solid;\n  }\n\n  .center {\n    font-size: 12px;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nexport const PeopleCircle = ({ info, showName = true }) => {\n  const { i18n } = useTranslation();\n  const name = withLanguage(i18n, info, 'name');\n  return (\n    <PeopleWrapper\n      className=\"avatar-group clickable\"\n      onClick={() => {\n        navigate(getLocalizedPath(i18n, `/profile/${info.uuid}/${name}`));\n      }}\n      onKeyDown={() => {}}\n    >\n      <div className=\"center\">\n        <CampAvatar\n          alt={name}\n          src={info.img_url}\n          camp={info.camp.toLowerCase()}\n        />\n        {showName && (\n          <span>{`${name}${info.primary === 'FALSE' ? '*' : ''}`}</span>\n        )}\n      </div>\n    </PeopleWrapper>\n  );\n};\n\nexport const PeopleBox = ({ onClick, name, info, subText }) => {\n  const Wrapper = styled.div`\n    display: flex;\n\n    .main {\n      margin-left: ${theme.spacing(1)}px;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    .subText {\n      line-height: 0.8rem;\n    }\n  `;\n  return (\n    <Wrapper item onClick={onClick}>\n      <CampAvatar\n        alt={name}\n        src={info.img_url}\n        camp={info.camp.toLowerCase()}\n        xsDimenion={56}\n        border={5}\n      />\n      <div className=\"main\">\n        <Typography variant=\"h5\">{name}</Typography>\n        <Typography className=\"subText\" variant=\"caption\" color=\"textSecondary\">\n          {subText}\n        </Typography>\n      </div>\n    </Wrapper>\n  );\n};\n"],"sourceRoot":""}